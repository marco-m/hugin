<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<title>Stitching a photo-mosaic - PanoTools.org Wiki</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.19.0" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="PanoTools.org Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.panotools.org/api.php?action=rsd" />
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
<link rel="alternate" type="application/atom+xml" title="PanoTools.org Wiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://wiki.panotools.org/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="http://wiki.panotools.org/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}a.new,#quickbar a.new{color:#ba0000}

/* cache key: pt_wikidb:resourceloader:filter:minify-css:7:c88e2bcd56513749bec09a7e29cb3ffa */
</style>

<script src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Stitching_a_photo-mosaic","wgTitle":"Stitching a photo-mosaic","wgCurRevisionId":13518,"wgArticleId":2824,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["How it works"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgRelevantPageName":"Stitching_a_photo-mosaic","wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":0,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":true,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":true,"searchNs10":false,"searchNs11":false,"searchNs12":true,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function($){mw.user.tokens.set({"editToken":"+\\","watchToken":false});;},{},{});

/* cache key: pt_wikidb:resourceloader:filter:minify-js:7:938e00507dd611bed23de13e424d3a6b */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Stitching_a_photo-mosaic skin-vector action-view">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content" class="mw-body">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading">
				<span dir="auto">Stitching a photo-mosaic</span>
			</h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
								<!-- tagline -->
				<div id="siteSub">From PanoTools.org Wiki</div>
				<!-- /tagline -->
								<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav" class="mw-jump">
					Jump to: <a href="Stitching_a_photo-mosaic.html#mw-head">navigation</a>,
					<a href="Stitching_a_photo-mosaic.html#p-search">search</a>
				</div>
				<!-- /jumpto -->
								<!-- bodycontent -->
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>This section is a stub.
</p><p><br />
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Stitching_a_photo-mosaic.html#Definition_of_photo-mosaic"><span class="tocnumber">1</span> <span class="toctext">Definition of photo-mosaic</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Stitching_a_photo-mosaic.html#Understanding_the_mosaic_lens_model"><span class="tocnumber">2</span> <span class="toctext">Understanding the mosaic lens model</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="Stitching_a_photo-mosaic.html#Parameters"><span class="tocnumber">2.1</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="Stitching_a_photo-mosaic.html#Mosaic_lens_model"><span class="tocnumber">2.2</span> <span class="toctext">Mosaic lens model</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="Stitching_a_photo-mosaic.html#Result"><span class="tocnumber">2.3</span> <span class="toctext">Result</span></a></li>
</ul>
</li>
</ul>
</td></tr></table>
<h2> <span class="mw-headline" id="Definition_of_photo-mosaic"> Definition of photo-mosaic </span></h2>
<p>A photo-mosaic is an image that is stitched together by photographs all taken from different viewpoints.   This differs from the <a href="Panorama.html" title="Panorama">panorama</a> where all images are taken from one single viewpoint but with different angles.
</p><p>The typical case of a photo-mosaic is the <a href="http://wiki.panotools.org/index.php?title=Linear_panorama&amp;action=edit&amp;redlink=1" class="new" title="Linear panorama (page does not exist)">linear panorama</a>, where one large subject like a wall, is photographed by taking photos of the wall, each covering a proportion of the wall, and moving the camera parallel to the wall with each shot.
</p><p>The classical way to stitch these kinds of mosaics was to lay the prints out on a light-table and glue them together.   Now with the mosaic-mode in the panotools lens model, it is possible to use the software estimate the camera position including angles, lens distortion etc. and to re-project and stitch the images to a photo-mosaic.
</p><p><br />
</p>
<h2> <span class="mw-headline" id="Understanding_the_mosaic_lens_model"> Understanding the mosaic lens model </span></h2>
<h3> <span class="mw-headline" id="Parameters"> Parameters </span></h3>
<p>The panotools <a href="Lens_correction_model.html" title="Lens correction model">lens model</a> has been expanded with addition of three new parameters that describe the camera position in [cartesian coordinates<a rel="nofollow" class="external autonumber" href="http://en.wikipedia.org/wiki/Cartesian_coordinate_system">[1]</a>], TrX, TrY, and TrZ 
</p><p>The <a href="Yaw.html" title="Yaw">yaw</a>, <a href="Pitch.html" title="Pitch">pitch</a> and <a href="Roll.html" title="Roll">roll</a> angles now apply on the camera around the camera's TrX, TrY and TrZ position in space. Together these six parameters describe where the camera viewpoint is (TrX,TrY,TrZ) and the direction the camera's optical axis point(y,p,r).
</p>
<h3> <span class="mw-headline" id="Mosaic_lens_model"> Mosaic lens model </span></h3>
<p>In order to generate a photo-mosaic from the individual images, the panotools lens model re-projects the images in the following way.
</p>
<ul><li> Each image is projected onto a plane with the coordinates of (0,0,1). This re-projection is using all the lens model's parameters. The position parameters describe above, as well as FOV, distortion. etc
</li><li> The plane is projected onto the panosphere 
</li><li> The panorama camera, which gives the viewpoint of the photo mosaic, sits in the center of the panosphere and looks straight ahead at the panosphere (and the perpendicular projection plane).  This camera gives the FOV of the whole photo-mosaic
</li></ul>
<p><br />
To illustrate the model, consider the following picture, which looks straight down at a photo mosaic which consists of three images taken "to the right" of the center.
</p>
<ul><li> The unit-<a href="http://wiki.panotools.org/index.php?title=Panosphere&amp;action=edit&amp;redlink=1" class="new" title="Panosphere (page does not exist)">panosphere</a> is drawn in gray.
</li><li> "The panorama camera" is centered in Origo, X,Y,Z =0
</li><li> Three photos are taken with camera positions 1, 2 and 3 by varying TrX,TrZ and Yaw
</li><li> The photos are reprojected to a plane (red) that touches the panosphere in (0,0,1) and then onto the panosphere using the "Panorama camera"
</li></ul>
<p><a href="http://wiki.panotools.org/File:Illustration4.png" class="image"><img alt="Illustration4.png" src="Illustration4.png" width="712" height="547" /></a>
</p>
<h3> <span class="mw-headline" id="Result"> Result </span></h3>
<p>Because the projection plane is a plane and perpendicular to the panorama camera, there will be miss-fit when this assumption is not true for the real-world subject.  For example, photos of a flat wall mural could be rendered perfect, while a three dimensional subject would not be.
</p>
<!-- 
NewPP limit report
Preprocessor node count: 19/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key pt_wikidb:pcache:idhash:2824-0!*!0!!en!2!* and timestamp 20121218130019 -->
</div>				<!-- /bodycontent -->
								<!-- printfooter -->
				<div class="printfooter">
				Retrieved from "<a href="http://wiki.panotools.org/index.php?title=Stitching_a_photo-mosaic&amp;oldid=13518">http://wiki.panotools.org/index.php?title=Stitching_a_photo-mosaic&amp;oldid=13518</a>"				</div>
				<!-- /printfooter -->
												<!-- catlinks -->
				<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="http://wiki.panotools.org/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="http://wiki.panotools.org/Category:How_it_works" title="Category:How it works">How it works</a></li></ul></div></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
				<!-- debughtml -->
								<!-- /debughtml -->
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="mw-head" class="noprint">
			
<!-- 0 -->
<div id="p-personal" class="">
	<h5>Personal tools</h5>
	<ul>
		<li id="pt-login"><a href="http://wiki.panotools.org/index.php?title=Special:UserLogin&amp;returnto=Stitching+a+photo-mosaic" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in / create account</a></li>
	</ul>
</div>

<!-- /0 -->
			<div id="left-navigation">
				
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Namespaces</h5>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="Stitching_a_photo-mosaic.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://wiki.panotools.org/index.php?title=Talk:Stitching_a_photo-mosaic&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
	<h4>
		</h4>
	<h5><span>Variants</span><a href="Stitching_a_photo-mosaic.html#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
			</div>
			<div id="right-navigation">
				
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Views</h5>
	<ul>
					<li id="ca-view" class="selected"><span><a href="Stitching_a_photo-mosaic.html" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="http://wiki.panotools.org/index.php?title=Stitching_a_photo-mosaic&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://wiki.panotools.org/index.php?title=Stitching_a_photo-mosaic&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Actions</span><a href="Stitching_a_photo-mosaic.html#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->

<!-- 2 -->
<div id="p-search">
	<h5><label for="searchInput">Search</label></h5>
	<form action="http://wiki.panotools.org/index.php" id="searchform">
				<div>
			<input type="search" name="search" title="Search PanoTools.org Wiki [f]" accesskey="f" id="searchInput" />			<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />			<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />					<input type='hidden' name="title" value="Special:Search"/>
		</div>
	</form>
</div>

<!-- /2 -->
			</div>
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="mw-panel" class="noprint">
				<!-- logo -->
					<div id="p-logo"><a style="background-image: url(/local/panotoolsng.png);" href="http://wiki.panotools.org/Main_Page"  title="Visit the main page"></a></div>
				<!-- /logo -->
				
<!-- navigation -->
<div class="portal" id='p-navigation'>
	<h5>Navigation</h5>
	<div class="body">
		<ul>
			<li id="n-mainpage"><a href="/Main_Page" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
			<li id="n-Site-Map"><a href="/SiteMap">Site Map</a></li>
			<li id="n-portal"><a href="http://www.panotools.org/" rel="nofollow" title="About the project, what you can do, where to find things">Community portal</a></li>
			<li id="n-Mailinglist"><a href="http://groups.yahoo.com/group/PanoToolsNG" rel="nofollow">Mailinglist</a></li>
		</ul>
	</div>
</div>

<!-- /navigation -->

<!-- tools -->
<div class="portal" id='p-tools'>
	<h5>tools</h5>
	<div class="body">
		<ul>
			<li id="n-All-Pages"><a href="/Special:AllPages">All Pages</a></li>
			<li id="n-recentchanges"><a href="/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>

<!-- /tools -->

<!-- SEARCH -->

<!-- /SEARCH -->

<!-- TOOLBOX -->
<div class="portal" id='p-tb'>
	<h5>Toolbox</h5>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="/Special:WhatLinksHere/Stitching_a_photo-mosaic" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="/Special:RecentChangesLinked/Stitching_a_photo-mosaic" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li><a href="/index.php?title=Stitching_a_photo-mosaic&amp;printable=yes" rel="alpanotoolsng.png);" href="/Main_Page"  title="Visit the main page"></a></div>
				<!-- /logo -->
				
<!-- navigation -->
<div class="portal" id='p-navigation'>
	<h5>Navigation</h5>
	<div class="body">
		<ul>
			<li id="n-mainpage"><a href="http://wiki.panotools.org/Main_Page" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
			<li id="n-Site-Map"><a href="http://wiki.panotools.org/SiteMap">Site Map</a></li>
			<li id="n-portal"><a href="http://www.panotools.org/" rel="nofollow" title="About the project, what you can do, where to find things">Community portal</a></li>
			<li id="n-Mailinglist"><a href="http://groups.yahoo.com/group/PanoToolsNG" rel="nofollow">Mailinglist</a></li>
		</ul>
	</div>
</div>

<!-- /navigation -->

<!-- tools -->
<div class="portal" id='p-tools'>
	<h5>tools</h5>
	<div class="body">
		<ul>
			<li id="n-All-Pages"><a href="http://wiki.panotools.org/Special:AllPages">All Pages</a></li>
			<li id="n-recentchanges"><a href="http://wiki.panotools.org/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="http://wiki.panotools.org/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="http://wiki.panotools.org/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>

<!-- /tools -->

<!-- SEARCH -->

<!-- /SEARCH -->

<!-- TOOLBOX -->
<div class="portal" id='p-tb'>
	<h5>Toolbox</h5>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="http://wiki.panotools.org/Special:WhatLinksHere/Stitching_a_photo-mosaic" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="http://wiki.panotools.org/Special:RecentChangesLinked/Stitching_a_photo-mosaic" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="http://wiki.panotools.org/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li><a href="http://wiki.panotools.org/index.php?title=Stitching_a_photo-mosaic&amp;printable=yes" rel="alternate">Printable version</a></li>
			<li id="t-permalink"><a href="http://wiki.panotools.org/index.php?title=Stitching_a_photo-mosaic&amp;oldid=13518" title="Permanent link to this revision of the page">Permanent link</a></li>
		</ul>
	</div>
</div>

<!-- /TOOLBOX -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->
			</div>
		<!-- /panel -->
		<!-- footer -->
		<div id="footer">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 1 June 2011, at 16:40.</li>
											<li id="footer-info-viewcount">This page has been accessed 5,172 times.</li>
											<li id="footer-info-copyright">Content is available under <a class="external" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.2</a>.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="http://wiki.panotools.org/PanoTools:Privacy_policy" title="PanoTools:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="http://wiki.panotools.org/PanoTools:About" title="PanoTools:About">About PanoTools.org Wiki</a></li>
											<li id="footer-places-disclaimer"><a href="http://wiki.panotools.org/PanoTools:General_disclaimer" title="PanoTools:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-copyrightico">
						<a href="http://www.gnu.org/copyleft/fdl.html"><img src="gnu-fdl.png" alt="GNU Free Documentation License 1.2" width="88" height="31" /></a>
					</li>
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<!-- /footer -->
		<script src="load.php%3Fdebug=false&amp;lang=en&amp;modules=skins.vector&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready"], null, true);
}</script>
<script type="text/javascript"> 
function toggleDisplay( id, hidetext, showtext )
{
  link = document.getElementById( id + "l" ).childNodes[0];
 
  with( document.getElementById( id ).style )
    {
      if( display == "none" )
        {
          display = "inline";
          link.nodeValue = hidetext;
        }
      else
        {
          display = "none";
          link.nodeValue = showtext;
        }
    }
}
</script>
<script src="load.php%3Fdebug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-412195-4");
pageTracker._trackPageview();
</script><!-- Served in 0.154 secs. -->
	</body>
</html>
