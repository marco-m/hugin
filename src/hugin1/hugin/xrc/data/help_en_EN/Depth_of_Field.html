<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<title>Depth of Field - PanoTools.org Wiki</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.19.0" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="PanoTools.org Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.panotools.org/api.php?action=rsd" />
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
<link rel="alternate" type="application/atom+xml" title="PanoTools.org Wiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://wiki.panotools.org/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="http://wiki.panotools.org/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}a.new,#quickbar a.new{color:#ba0000}

/* cache key: pt_wikidb:resourceloader:filter:minify-css:7:c88e2bcd56513749bec09a7e29cb3ffa */
</style>

<script src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Depth_of_Field","wgTitle":"Depth of Field","wgCurRevisionId":12928,"wgArticleId":1937,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Glossary"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgRelevantPageName":"Depth_of_Field","wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":0,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":true,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":true,"searchNs10":false,"searchNs11":false,"searchNs12":true,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function($){mw.user.tokens.set({"editToken":"+\\","watchToken":false});;},{},{});

/* cache key: pt_wikidb:resourceloader:filter:minify-js:7:938e00507dd611bed23de13e424d3a6b */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Depth_of_Field skin-vector action-view">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content" class="mw-body">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading">
				<span dir="auto">Depth of Field</span>
			</h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
								<!-- tagline -->
				<div id="siteSub">From PanoTools.org Wiki</div>
				<!-- /tagline -->
								<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav" class="mw-jump">
					Jump to: <a href="Depth_of_Field.html#mw-head">navigation</a>,
					<a href="Depth_of_Field.html#p-search">search</a>
				</div>
				<!-- /jumpto -->
								<!-- bodycontent -->
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p><br />
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Depth_of_Field.html#What_it_is"><span class="tocnumber">1</span> <span class="toctext">What it is</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Depth_of_Field.html#Considerations_for_zoomable_panoramas"><span class="tocnumber">2</span> <span class="toctext">Considerations for zoomable panoramas</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="Depth_of_Field.html#Diffraction"><span class="tocnumber">3</span> <span class="toctext">Diffraction</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="Depth_of_Field.html#Hyperfocal_distance"><span class="tocnumber">4</span> <span class="toctext">Hyperfocal distance</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="Depth_of_Field.html#Extending_depth_of_field_in_software"><span class="tocnumber">5</span> <span class="toctext">Extending depth of field in software</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="Depth_of_Field.html#Web_links"><span class="tocnumber">6</span> <span class="toctext">Web links</span></a></li>
</ul>
</td></tr></table>
<h2> <span class="mw-headline" id="What_it_is">What it is</span></h2>
<p>A photographic image is only sharp in the focus plane. The farther an object is located in front of or behind the focus plane, the more it is blurred. 
</p><p>However, this blur is not recognizable if it stays below a certain amount. In classical photography which has a printed image as a goal (no matter whether digital or analog) the perception of the human eye is the limiting factor. 
</p><p>The human eye commonly accepts an edge as sharp, if the angle of view of the blur is smaller than 1 arc minute. Hence a point blurred to that amount has the diameter of 2 arc minutes, which is the same as 1/1700 of the viewing distance. 
</p><p>This is the allowed diameter of the so called Circle of Confusion. The normal viewing distance in classical photography is assumed to be equivalent to the printed image diagonal. The circle of confusion is the basis for most Depth of Field calculators or tables. 
</p>
<h2> <span class="mw-headline" id="Considerations_for_zoomable_panoramas">Considerations for zoomable panoramas</span></h2>
<p>For computer displayed panorama creation where one can zoom into the image, the limit must be the pixel distance in the viewable panorama - unless you don't allow to zoom in until 100% pixel view.
</p><p>Since a pixel in an <a href="Equirectangular.html" title="Equirectangular" class="mw-redirect">equirectangular</a> panorama corresponds to a certain angle of view in reality, we can directly calculate the allowed angle of confusion in the shot image. It is 360Â° divided by the pixel width of the equirectangular image.
</p><p>For a standard angle of confusion of 2 arc minutes this would result in an equirect image with 10800*5400 pixel. If zoomable panoramas are smaller in pixel size, the Depth of Field is far bigger than for classical photography and standard depth of field calculators are of no big use. Read on to see how to circumvent this.
</p>
<h2> <span class="mw-headline" id="Diffraction"><a href="Diffraction.html" title="Diffraction">Diffraction</a></span></h2>
<p>In the increasingly popular gigapixel panoramas, where longer lenses are used, Depth of Field is a serious issue. While stopping down increases DoF, image blur due to diffraction limits the sharpness and the final resolution. Effective resolution can be calculated using the <a href="http://www.wikipedia.org/wiki/angular_resolution" class="extiw" title="w:angular resolution">Rayleigh criterion</a>. See the main article on <a href="Diffraction.html" title="Diffraction">Diffraction</a> for more details.
</p>
<h2> <span class="mw-headline" id="Hyperfocal_distance">Hyperfocal distance</span></h2>
<p>In most cases a panorama should be sharp from the horizon to the nearest objects. Since the <a href="Depth_of_Field.html#What_it_is">Depth of Field</a> region is partly in front of and partly behind the focus plane, you sacrifice a fair amount of Depth of Field if you focus to infinity - only one part of the depth of field range is used.
</p><p>However, there is a distance you can focus on, that extends the Depth of Field exactly from infinity to a nearer limit. This is the hyperfocal distance. It can be calculated, if the allowed circle of confusion (see above) on the sensor is known.
</p><p>Following the above considerations on <a href="Depth_of_Field.html#Considerations_for_zoomable_panoramas">Depth of Field for zoomable panoramas</a> we can calculate a small table with
</p>
<ul><li>Width - image width in pixels 
</li><li>AoC - angle of confusion in arc minutes
</li><li>CoC - Circle of Confusion on full format DSLR or analog film in mm (diagonal 43.3mm)
</li><li>CoC1.6 - Circle of Confusion on <a href="Crop_factor.html" title="Crop factor">crop factor</a> 1.6 DSLR in mm (diagonal 27mm)
</li></ul>
<pre> Width  AoC  CoC    C0C1.6
16000   1.4  0.017  0.011
12000   1.8  0.023  0.014
10000   2.2  0.027  0.017
 8000   2.7  0.034  0.021
 6000   3.6  0.045  0.028
 4000   5.4  0.068  0.042
</pre>
<p>The formula for this calculation is 
</p>
<pre>CoC = sin(AoC) * sensor diagonal
AoC = 360 / Width
</pre>
<p>With this values you can go into any depth of field calculator where you can enter the circle of confusion like for example <a rel="nofollow" class="external free" href="http://www.tawbaware.com/maxlyons/calc.htm">http://www.tawbaware.com/maxlyons/calc.htm</a> and calculate the hyperfocal distance (and the Depth of Field if required). 
</p><p>In any case the near limit of the Depth of Field is half the hyperfocal distance. 
</p><p>Please note, that all these values for fisheye lenses are only approximations, since their focal length changes from the center to the edges as well as the effective aperture changes.
</p>
<h2> <span class="mw-headline" id="Extending_depth_of_field_in_software"> Extending depth of field in software </span></h2>
<p><a rel="nofollow" class="external text" href="http://www.janrik.net/ptools/ExtendedFocusPano12/">Rik Littlefield</a> added functionality to the <a href="Pano12.html" title="Pano12">pano12</a> library to merge multiple exposures with different focal distances into a single image with extended <b>depth of field</b>.  This has largely been superceded by new software, notably <a rel="nofollow" class="external text" href="http://www.hadleyweb.pwp.blueyonder.co.uk/CZ5/combinez5.htm">CombineZ5</a>,<a rel="nofollow" class="external text" href="http://www.general-cathexis.com/">SAR</a>, <a rel="nofollow" class="external text" href="http://heliconfilter.com/pages/focus_overview.html">Helicon focus</a> and <a href="Enfuse.html" title="Enfuse">enfuse</a>.
</p>
<h2> <span class="mw-headline" id="Web_links"> Web links </span></h2>
<p>Some Investigations Regarding Depth of Field by Rik Littlefield: <a rel="nofollow" class="external autonumber" href="http://www.janrik.net/DOFpostings/PM1/DOFInvestigations1.htm">[1]</a>
</p><p><small><a href="http://wiki.panotools.org/User:Erik_Krause" title="User:Erik Krause">Erik Krause</a> 16:50, 6 Jun 2005 (EDT)</small>
</p>
<!-- 
NewPP limit report
Preprocessor node count: 35/1000000
Post-expand include size: 43/2097152 bytes
Template argument size: 96/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key pt_wikidb:pcache:idhash:1937-0!*!0!!en!*!* and timestamp 20121218133525 -->
</div>				<!-- /bodycontent -->
								<!-- printfooter -->
				<div class="printfooter">
				Retrieved from "<a href="http://wiki.panotools.org/index.php?title=Depth_of_Field&amp;oldid=12928">http://wiki.panotools.org/index.php?title=Depth_of_Field&amp;oldid=12928</a>"				</div>
				<!-- /printfooter -->
												<!-- catlinks -->
				<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="http://wiki.panotools.org/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="http://wiki.panotools.org/Category:Glossary" title="Category:Glossary">Glossary</a></li></ul></div></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
				<!-- debughtml -->
								<!-- /debughtml -->
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="mw-head" class="noprint">
			
<!-- 0 -->
<div id="p-personal" class="">
	<h5>Personal tools</h5>
	<ul>
		<li id="pt-login"><a href="http://wiki.panotools.org/index.php?title=Special:UserLogin&amp;returnto=Depth+of+Field" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in / create account</a></li>
	</ul>
</div>

<!-- /0 -->
			<div id="left-navigation">
				
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Namespaces</h5>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="Depth_of_Field.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://wiki.panotools.org/index.php?title=Talk:Depth_of_Field&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
	<h4>
		</h4>
	<h5><span>Variants</span><a href="Depth_of_Field.html#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
			</div>
			<div id="right-navigation">
				
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Views</h5>
	<ul>
					<li id="ca-view" class="selected"><span><a href="Depth_of_Field.html" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="http://wiki.panotools.org/index.php?title=Depth_of_Field&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://wiki.panotools.org/index.php?title=Depth_of_Field&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Actions</span><a href="Depth_of_Field.html#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->

<!-- 2 -->
<div id="p-search">
	<h5><label for="searchInput">Search</label></h5>
	<form action="http://wiki.panotools.org/index.php" id="searchform">
				<div>
			<input type="search" name="search" title="Search PanoTools.org Wiki [f]" accesskey="f" id="searchInput" />			<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />			<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />					<input type='hidden' name="title" value="Special:Search"/>
		</div>
	</form>
</div>

<!-- /2 -->
			</div>
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="mw-panel" class="noprint">
				<!-- logo -->
					<div id="p-logo"><a style="background-image: url(/local/panotoolsng.png);" href="http://wiki.panotools.org/Main_Page"  title="Visit the main page"></a></div>panotoolsng.png);" href="/Main_Page"  title="Visit the main page"></a></div>
				<!-- /logo -->
				
<!-- navigation -->
<div class="portal" id='p-navigation'>
	<h5>Navigation</h5>
	<div class="body">
		<ul>
			<li id="n-mainpage"><a href="http://wiki.panotools.org/Main_Page" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
			<li id="n-Site-Map"><a href="http://wiki.panotools.org/SiteMap">Site Map</a></li>
			<li id="n-portal"><a href="http://www.panotools.org/" rel="nofollow" title="About the project, what you can do, where to find things">Community portal</a></li>
			<li id="n-Mailinglist"><a href="http://groups.yahoo.com/group/PanoToolsNG" rel="nofollow">Mailinglist</a></li>
		</ul>
	</div>
</div>

<!-- /navigation -->

<!-- tools -->
<div class="portal" id='p-tools'>
	<h5>tools</h5>
	<div class="body">
		<ul>
			<li id="n-All-Pages"><a href="http://wiki.panotools.org/Special:AllPages">All Pages</a></li>
			<li id="n-recentchanges"><a href="http://wiki.panotools.org/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="http://wiki.panotools.org/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="http://wiki.panotools.org/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>

<!-- /tools -->

<!-- SEARCH -->

<!-- /SEARCH -->

<!-- TOOLBOX -->
<div class="portal" id='p-tb'>
	<h5>Toolbox</h5>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="http://wiki.panotools.org/Special:WhatLinksHere/Depth_of_Field" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="http://wiki.panotools.org/Special:RecentChangesLinked/Depth_of_Field" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="http://wiki.panotools.org/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li><a href="http://wiki.panotools.org/index.php?title=Depth_of_Field&amp;printable=yes" rel="alternate">Printable version</a></li>
			<li id="t-permalink"><a href="http://wiki.panotools.org/index.php?title=Depth_of_Field&amp;oldid=12928" title="Permanent link to this revision of the page">Permanent link</a></li>
		</ul>
	</div>
</div>

<!-- /TOOLBOX -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->
			</div>
		<!-- /panel -->
		<!-- footer -->
		<div id="footer">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 25 December 2010, at 12:47.</li>
											<li id="footer-info-viewcount">This page has been accessed 16,739 times.</li>
											<li id="footer-info-copyright">Content is available under <a class="external" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.2</a>.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="http://wiki.panotools.org/PanoTools:Privacy_policy" title="PanoTools:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="http://wiki.panotools.org/PanoTools:About" title="PanoTools:About">About PanoTools.org Wiki</a></li>
											<li id="footer-places-disclaimer"><a href="http://wiki.panotools.org/PanoTools:General_disclaimer" title="PanoTools:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-copyrightico">
						<a href="http://www.gnu.org/copyleft/fdl.html"><img src="gnu-fdl.png" alt="GNU Free Documentation License 1.2" width="88" height="31" /></a>
					</li>
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<!-- /footer -->
		<script src="load.php%3Fdebug=false&amp;lang=en&amp;modules=skins.vector&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready"], null, true);
}</script>
<script type="text/javascript"> 
function toggleDisplay( id, hidetext, showtext )
{
  link = document.getElementById( id + "l" ).childNodes[0];
 
  with( document.getElementById( id ).style )
    {
      if( display == "none" )
        {
          display = "inline";
          link.nodeValue = hidetext;
        }
      else
        {
          display = "none";
          link.nodeValue = showtext;
        }
    }
}
</script>
<script src="load.php%3Fdebug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-412195-4");
pageTracker._trackPageview();
</script><!-- Served in 0.149 secs. -->
	</body>
</html>
